@extends('layouts.app')

@section('title', 'Terms & Conditions - KOA Services')
@section('meta_description', 'Read our Terms & Conditions for KOA Services cleaning services.')

@section('content')
    <article id="post-2886" class="full post-2886 page type-page status-publish hentry">
        <div data-elementor-type="single-page" data-elementor-id="3145"
            class="elementor elementor-3145 elementor-location-single post-2886 page type-page status-publish hentry"
            data-elementor-post-type="elementor_library">
            <div class="elementor-element elementor-element-b6b8c0c e-con-full e-flex e-con e-parent"
                data-id="terms-section" data-element_type="container">
                <div class="elementor-element elementor-element-1cde2c4 elementor-widget elementor-widget-theme-post-content"
                    data-id="terms-content" data-element_type="widget" data-widget_type="theme-post-content.default">
                    <div class="elementor-widget-container">
                        <div data-elementor-type="wp-page" class="elementor elementor-terms">
                            <div class="elementor-element elementor-element-fa706a4 e-flex e-con-boxed e-con e-parent"
                                data-id="fa706a4" data-element_type="container">
                                <div class="e-con-inner">
                                    <div class="elementor-element elementor-element-ed96808 elementor-widget elementor-widget-text-editor"
                                        data-id="ed96808" data-element_type="widget" data-widget_type="text-editor.default">
                                        <div class="elementor-widget-container">
                                            <div class="privacy-content">
                                                <div class="company-info">
                                                    <h3>KOA Services</h3>
                                                    <p>Dotterbloem 149<br>1441 TM Purmerend<br>Email:
                                                        info@koaservices.nl<br>KvK: 97906298</p>
                                                </div>

                                                <h2>Privacy Statement</h2>

                                                <h4>1. Introduction</h4>
                                                <p>KOA Services respects the privacy of all its users and is committed to
                                                    protecting the personal data of jobseekers, employees, and clients. This
                                                    Privacy Statement explains how we collect, process, and protect your
                                                    data in accordance with the <strong>General Data Protection Regulation
                                                        (GDPR)</strong> and the Dutch Implementation Act.</p>
                                                <p>KOA Services, registered at the Amsterdam Chambers of Commerce with
                                                    office in Purmerend and supervised by the <strong>Autoriteit
                                                        Persoonsgegevens (AP)</strong>, is the data controller responsible
                                                    for processing your personal data.</p>

                                                <h4>2. Data We Collect</h4>
                                                <p>We collect personal data for recruitment and placement purposes,
                                                    including:</p>
                                                <ul class="privacy-list">
                                                    <li>Name, address, and contact details (email, phone)</li>
                                                    <li>Date of birth and nationality</li>
                                                    <li>Work permit and right-to-work status</li>
                                                    <li>Curriculum Vitae (education, work history, skills)</li>
                                                    <li>Bank details (only for contracted employees)</li>
                                                    <li>BSN and ID copy (required by Dutch law before employment)</li>
                                                </ul>
                                                <p>We also collect personal data from clients who register their job
                                                    availability for us to be able to assign our jobseekers. The data we
                                                    collect includes:</p>
                                                <ul class="privacy-list">
                                                    <li>Name, address, and contact details (email, phone)</li>
                                                    <li>Bank details (only for payments to us)</li>
                                                </ul>
                                                <p><strong>We do not collect sensitive data</strong> such as religion,
                                                    political opinions, or health details unless legally required.</p>

                                                <h4>3. Purpose of Processing</h4>
                                                <p>Your personal data is used to:</p>
                                                <ul class="privacy-list">
                                                    <li>Match you with suitable job opportunities</li>
                                                    <li>Comply with Dutch employment and tax laws</li>
                                                    <li>Communicate with you about vacancies or contracts</li>
                                                    <li>Manage payroll and personnel administration for employed candidates
                                                    </li>
                                                    <li>Improve our recruitment services</li>
                                                </ul>
                                                <p>We will never share your data with third parties without your consent,
                                                    except with government agencies (UWV, Belastingdienst) or IT partners
                                                    under a strict data processing agreement.</p>

                                                <h4>4. Data Retention</h4>
                                                <ul class="privacy-list">
                                                    <li>Candidate profiles are retained for up to one year unless renewed by
                                                        consent.</li>
                                                    <li>Employee records (including payroll and BSN) are retained for seven
                                                        years per tax legislation.</li>
                                                </ul>

                                                <h4>5. Your Rights</h4>
                                                <p>You have the right to:</p>
                                                <ul class="privacy-list">
                                                    <li>Access and correct your personal data</li>
                                                    <li>Request deletion (where legally allowed)</li>
                                                    <li>Object to processing or withdraw consent</li>
                                                    <li>Request a copy of your data (data portability)</li>
                                                </ul>
                                                <p>To exercise your rights, contact <strong>info@koaservices.nl</strong>.
                                                    KOA Services may request proof of identity to protect your privacy.</p>

                                                <h4>6. Data Security</h4>
                                                <p>We apply technical and organizational measures such as encryption,
                                                    limited access, and secure storage, to prevent unauthorized access,
                                                    loss, or misuse of data. In the event of a data breach, the AP and
                                                    affected users will be notified in accordance with GDPR requirements.
                                                </p>

                                                <h4>7. Updates</h4>
                                                <p>KOA Services may update this Privacy Statement periodically. The latest
                                                    version will always be available on <strong>www.koaservices.nl</strong>.
                                                </p>

                                                <div class="last-updated">
                                                    <p><strong>Date: 7 December 2025</strong></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </article>
@endsection

@push('styles')
    <link rel='stylesheet' id='elementor-post-2886-css'
        href='{{ asset("wp-content/uploads/elementor/css/post-2886.css") }}?ver=1752678329' type='text/css' media='all'>
    <link rel='stylesheet' id='elementor-post-142-css'
        href='{{ asset("wp-content/uploads/elementor/css/post-142.css") }}?ver=1752677976' type='text/css' media='all'>
    <link rel='stylesheet' id='elementor-post-1007-css'
        href='{{ asset("wp-content/uploads/elementor/css/post-1007.css") }}?ver=1752677976' type='text/css' media='all'>
    <link rel='stylesheet' id='elementor-post-3145-css'
        href='{{ asset("wp-content/uploads/elementor/css/post-3145.css") }}?ver=1752677976' type='text/css' media='all'>
    <link rel='stylesheet' id='elementor-post-156-css'
        href='{{ asset("wp-content/uploads/elementor/css/post-156.css") }}?ver=1752677977' type='text/css' media='all'>
    <style>
        .elementor-terms {
            margin-top: 60px;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafb 100%);
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(40, 167, 69, 0.08);
        }

        .privacy-content {
            max-width: 900px;
            margin: 0 auto;
        }

        .company-info {
            background: #f0f8f4;
            padding: 20px;
            border-left: 5px solid var(--e-global-color-vamtam_accent_2);
            border-radius: 6px;
            margin-bottom: 35px;
        }

        .company-info h3 {
            color: var(--e-global-color-vamtam_accent_2);
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .company-info p {
            font-size: 14px;
            line-height: 1.6;
            color: #333;
            margin: 0;
        }

        .elementor-terms h2 {
            color: var(--e-global-color-vamtam_accent_2);
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--e-global-color-vamtam_accent_2);
            letter-spacing: 0.5px;
        }

        .elementor-terms h4 {
            color: var(--e-global-color-vamtam_accent_2);
            font-size: 18px;
            font-weight: 700;
            margin-top: 28px;
            margin-bottom: 12px;
            padding-left: 15px;
            border-left: 4px solid var(--e-global-color-vamtam_accent_2);
            letter-spacing: 0.3px;
        }

        .elementor-terms p {
            font-size: 15px;
            line-height: 1.8;
            color: #333;
            margin-bottom: 16px;
            letter-spacing: 0.2px;
        }

        .elementor-terms strong {
            color: var(--e-global-color-vamtam_accent_2);
            font-weight: 700;
        }

        .elementor-terms a {
            color: var(--e-global-color-vamtam_accent_2);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }

        .elementor-terms a:hover {
            border-bottom-color: var(--e-global-color-vamtam_accent_2);
            opacity: 0.85;
        }

        .privacy-list {
            list-style: none;
            padding-left: 0;
            margin-bottom: 20px;
        }

        .privacy-list li {
            padding-left: 25px;
            margin-bottom: 10px;
            color: #333;
            font-size: 15px;
            line-height: 1.6;
            position: relative;
        }

        .privacy-list li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: var(--e-global-color-vamtam_accent_2);
            font-weight: 700;
            font-size: 16px;
        }

        .last-updated {
            margin-top: 40px;
            padding-top: 25px;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #666;
            font-size: 14px;
        }

        .payment-btn {
            border: none;
            background: none;
            padding: 0;
            width: 100%;
        }

        .payment-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .payment-btn:disabled .elementor-button {
            pointer-events: none;
        }

        @media (max-width: 768px) {
            .elementor-terms {
                padding: 25px;
                margin-top: 40px;
            }

            .elementor-terms h2 {
                font-size: 28px;
                margin-bottom: 15px;
            }

            .elementor-terms h4 {
                font-size: 16px;
                margin-top: 24px;
            }
        }
    </style>
@endpush

@push('scripts')
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Handle payment button clicks
        document.querySelectorAll('.payment-btn').forEach(button => {
            button.addEventListener('click', async function () {
                const planId = this.dataset.planId;
                const planName = this.dataset.planName;
                const planPrice = this.dataset.planPrice;

                // Disable button and show loading state
                const originalText = this.querySelector('.elementor-button-text').textContent;
                this.disabled = true;
                this.querySelector('.elementor-button-text').textContent = 'Processing...';

                try {
                    // Create checkout session
                    const response = await fetch(`/payment/create-checkout-session/${planId}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').getAttribute('content')
                        },
                        body: JSON.stringify({
                            plan_id: planId
                        })
                    });

                    const data = await response.json();

                    if (data.checkout_url) {
                        // Redirect to Stripe Checkout
                        window.location.href = data.checkout_url;
                    } else {
                        throw new Error(data.error || 'Failed to create payment session');
                    }
                } catch (error) {
                    console.error('Payment error:', error);
                    alert('Sorry, there was an error processing your payment. Please try again or contact support.');

                    // Restore button
                    this.disabled = false;
                    this.querySelector('.elementor-button-text').textContent = originalText;
                }
            });
        });
    });
</script>